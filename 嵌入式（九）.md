<h1><center>嵌入式（九）</center></h1>
<h3>
    <center>——UART通用异步收发器</center>
</h3>

## 一、概述

UART通信线路简单，信号传输可靠，被管饭应用于工业控制、医疗设备、便携设备、POS机等系统中。

在处理器系统中，仍然是不可或缺的角色。

采样，漂移，同步

示例：曼彻斯特变码（同步加安全）

![IMG_20220430_205105](https://raw.githubusercontent.com/zrmin/BlogImages/master/images/202204302051066.jpg)

receiver 接收器

transmitter发送器

RS232协议：数据终端设备DTE和数据通讯设备DCE之间串行二进制数据交换接口技术标准



## 二、串行与并行

1. 并行
   * 控制简单，传输速度快。线多，长距离成本较高且同时接受困难
2. 串行
   * 将数据字节分成一位一位地行驶在一条传输线上进行传输



## 三、串行通信地分类——数据传送方向

1. 单工
   * 数据在一个方向上传输
2. 半双工
   * 数据在两个方向上传输
   * 在某一时刻，只允许数据在一个方向上传输
3. 全双工
   * 数据同时在两个方向上传输



## 四、串行通信地分类——通信方式

1. 同步通讯（有同步时钟信号）

   * 在手法设备上会使用信号线传输信号，在时钟信号的驱动下进行协调，同步数据
   * 数据信号所传输的内容绝大部分是有效数据，通讯效率高
   * 双方的时钟允许误差小，稍稍时钟出错就可能导致数据错乱

2. 异步通讯（独立的时钟源）

   * 不使用共同的时钟信号，它们直接在数据信号中穿插一些用于同步的信号位，将主题数据进行打包，以数据帧的格式传输数据，通讯中需双方规约好数据的传输速率
   * 异步通讯中包含数据帧的各种标识符，通讯效率低
   * 异步通讯双方的时钟允许误差较大

   

## 五、物理层协议

通信：物理互连，逻辑互通

协议三要素

* 语义Semantic
* 语法Syntax
* 时序Timing



## 六、UART串口通信数据接受响应模式

1. 轮询模式
   * 通过程序执行流，不停地检测状态寄存器的结果，如果当前可发送或接收，则发送或接收数据
2. 中断模式
   * 当数据到达或数据可发送时，产生中断，通知CPU去发送或接收数据，这种方式将通信硬件和CPU独立出来，通信硬件只有在发送或接收条件准备好之后，才通知CPU去处理数据
3. DMA模式
   * 通常实现数据的转移或拷贝时，CPU将从源地址处复制数据到寄存器，然后将寄存器数据再写入目的地址处，该复制过程需要CPU来执行
   * 在DMA传输过程中，CPU几乎不再干涉
   * 但是DMA在传输数据过程中要占用总线，在大批数据传输时，系统总线会被DMA通道占用，也会影响系统的效率